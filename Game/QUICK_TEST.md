# Быстрое тестирование системы характеристик

## Проблемы и решения

### ❌ Проблема 1: Игрок получает 0 урона
**Причина**: Система неуязвимости блокирует урон на 0.1 секунды
**Решение**: Тестовые клавиши 1-5 используют источник "test" и обходят неуязвимость

### ❌ Проблема 2: Табло HP не обновляется
**Причина**: UI не получает уведомления об изменениях
**Решение**: Добавлена отладочная информация для диагностики

## Шаг 1: Запуск
```bash
python game.py
```

## Шаг 2: Включение отладки
- Нажмите **F3** в игре
- В консоли должно появиться: `[DEBUG] Режим отладки включен`

## Шаг 3: Тестирование
Используйте **цифры 1-5** (работают всегда, обходят неуязвимость):

- **1**: Получить урон (10 HP) - обходит неуязвимость
- **2**: Восстановить здоровье (20 HP) - обходит неуязвимость
- **3**: Использовать выносливость (30 SP)
- **4**: Получить опыт (50 XP)
- **5**: Воскреситься (если мертв)

## Что должно происходить:

### Визуально:
- Полоски HP/SP/XP в левом верхнем углу
- Индикаторы урона/лечения над игроком
- Экран смерти при нулевом здоровье

### В консоли (в режиме отладки):
- `[PLAYER DEBUG] Получение урона: 10 HP`
- `[STATS DEBUG] Уведомление наблюдателей: health X -> Y, наблюдателей: 1`
- `[UI DEBUG] Изменение характеристики: health X -> Y`
- `[UI DEBUG] Отрисовка UI: HP=X/Y, SP=Z/W`

## Диагностика проблем:

### Если урон всегда 0:
- Проверьте, что используете клавиши 1-5 (не H, J, K, L)
- Проверьте сообщения о неуязвимости в консоли

### Если UI не обновляется:
- Проверьте сообщения `[UI DEBUG] UI создан и подписан на изменения характеристик`
- Проверьте сообщения `[STATS DEBUG] Добавление наблюдателя`
- Проверьте сообщения `[UI DEBUG] Изменение характеристики`

## Если не работает:

1. **Проверьте консоль** на ошибки
2. **Убедитесь**, что игра запущена (не в меню)
3. **Попробуйте** клавиши H, J, K, L (в режиме отладки)
4. **Запустите** `test_simple.py` для проверки системы
5. **Запустите** `test_observers.py` для проверки наблюдателей
6. **Запустите** `test_full_chain.py` для проверки всей цепочки

## Отдельные тесты:
```bash
python test_simple.py      # Базовые функции
python test_observers.py   # Система наблюдателей
python test_full_chain.py  # Полная цепочка
``` 